<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>皮卡皮卡！分數大挑戰！</title>
    <!-- 引入 Google Fonts，讓字體更活潑可愛 -->
    <link href="https://fonts.googleapis.com/css2?family=Boogaloo&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* 定義皮卡丘主題色 */
        :root {
            --pikachu-yellow: #FFDE00; /* 亮黃色 */
            --pikachu-dark-yellow: #F0C800; /* 稍深黃色 */
            --pikachu-black: #222222; /* 黑色 */
            --pikachu-red: #E3350D; /* 紅色 */
            --pikachu-white: #FFFFFF; /* 白色 */
            --pikachu-light-yellow-bg: #FFFACD; /* 淺黃色背景 */
            --border-radius-lg: 25px;
            --border-radius-md: 15px;
            --box-shadow-light: 0 4px 8px rgba(0, 0, 0, 0.1);
            --box-shadow-heavy: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        /* 網頁基本設定 */
        body {
            font-family: 'Comic Neue', 'Comic Sans MS', cursive, sans-serif;
            background-color: var(--pikachu-light-yellow-bg);
            color: var(--pikachu-black);
            margin: 0;
            padding: 20px;
            text-align: center;
            line-height: 1.6;
            scroll-behavior: smooth; /* 平滑滾動 */
        }

        /* 標題字體與顏色 */
        h1, h2, h3, h4 {
            font-family: 'Boogaloo', cursive;
            color: var(--pikachu-red);
            text-shadow: 2px 2px var(--pikachu-black);
            margin-bottom: 15px;
        }

        h1 { font-size: 3.5em; color: var(--pikachu-red); text-shadow: 4px 4px var(--pikachu-black); }
        h2 { font-size: 2.5em; color: var(--pikachu-black); text-shadow: 2px 2px var(--pikachu-yellow); }
        h3 { font-size: 1.8em; color: var(--pikachu-red); }

        /* 區塊樣式 */
        section {
            background-color: var(--pikachu-white);
            border: 5px solid var(--pikachu-dark-yellow);
            border-radius: var(--border-radius-lg);
            padding: 30px;
            margin: 30px auto;
            max-width: 900px;
            box-shadow: var(--box-shadow-heavy);
            position: relative;
        }

        /* 區塊的虛線邊框裝飾 */
        section::before {
            content: '';
            position: absolute;
            top: -15px;
            left: -15px;
            right: -15px;
            bottom: -15px;
            border: 3px dashed var(--pikachu-red);
            border-radius: var(--border-radius-lg);
            z-index: -1;
        }

        /* 皮卡丘圖片樣式 */
        .pikachu-img {
            max-width: 150px;
            height: auto;
            margin: 10px auto;
            display: block;
        }

        /* 寶可夢小圖示 */
        .pokemon-icon {
            width: 40px;
            height: 40px;
            vertical-align: middle;
            margin-right: 10px;
        }

        /* 主要按鈕樣式 */
        .button-primary {
            background-color: var(--pikachu-red);
            color: var(--pikachu-white);
            border: 3px solid var(--pikachu-black);
            padding: 12px 25px;
            border-radius: var(--border-radius-md);
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px var(--pikachu-black);
            font-family: 'Boogaloo', cursive;
            margin-top: 15px;
        }

        .button-primary:hover {
            background-color: var(--pikachu-dark-yellow);
            transform: translateY(-2px);
            box-shadow: 0 6px var(--pikachu-black);
        }

        .button-primary:active {
            transform: translateY(2px);
            box-shadow: 0 2px var(--pikachu-black);
        }

        /* 分數文字顯示樣式 */
        .fraction-text {
            display: inline-block;
            text-align: center;
            vertical-align: middle;
            margin: 0 5px;
            font-size: 1.2em;
            font-weight: bold;
        }
        .fraction-text .numerator {
            display: block;
            border-bottom: 2px solid var(--pikachu-black);
            padding-bottom: 2px;
            line-height: 1;
            min-width: 25px; /* 確保分子有足夠寬度 */
        }
        .fraction-text .denominator {
            display: block;
            padding-top: 2px;
            line-height: 1;
            min-width: 25px; /* 確保分母有足夠寬度 */
        }

        /* 概念圖中的圓餅圖容器 */
        .pie-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        /* 圓餅圖樣式 */
        .pie-chart-example {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid var(--pikachu-black);
            display: flex; /* For centering the label */
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            font-weight: bold;
            color: var(--pikachu-black);
            position: relative;
        }

        /* 圓餅圖上的標籤 */
        .pie-chart-example .label {
            position: absolute;
            z-index: 2;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 2px 5px;
            border-radius: 5px;
            color: var(--pikachu-black);
        }

        /* 逐步解說樣式 */
        .step-by-step {
            margin-top: 20px;
            text-align: left;
            border-left: 5px solid var(--pikachu-red);
            padding-left: 15px;
            color: var(--pikachu-black);
        }
        .step-by-step h4 {
            color: var(--pikachu-black);
            text-shadow: none;
            margin-bottom: 10px;
            font-size: 1.4em;
        }
        .step-by-step p {
            margin-bottom: 10px;
        }

        /* 範例區塊 */
        .example-block {
            background-color: var(--pikachu-light-yellow-bg);
            border: 2px dashed var(--pikachu-red);
            border-radius: var(--border-radius-md);
            padding: 15px;
            margin-bottom: 20px;
        }

        /* 閃電符號的列表 */
        .lightning-bullet {
            list-style: none; /* 移除預設點 */
            padding-left: 0;
            text-align: left;
            margin-left: auto;
            margin-right: auto;
            max-width: 700px; /* 限制寬度讓列表置中 */
        }

        .lightning-bullet li {
            position: relative;
            padding-left: 40px; /* 留出空間給圖示 */
            margin-bottom: 10px;
            font-size: 1.1em;
            color: var(--pikachu-black);
        }

        .lightning-bullet li::before {
            content: ''; /* 不直接使用 content: url() */
            position: absolute;
            left: 0;
            top: 0;
            width: 30px;
            height: 30px;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Lightning_bolt_icon.svg/32px-Lightning_bolt_icon.svg.png'); /* 使用背景圖 */
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        /* 互動練習區的題目卡片 */
        .question-card {
            background-color: var(--pikachu-white);
            border: 3px solid var(--pikachu-yellow);
            border-radius: var(--border-radius-md);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--box-shadow-light);
            text-align: left;
        }

        .question-card p {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: var(--pikachu-black);
        }

        .options-container label {
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
            cursor: pointer;
            padding: 8px 15px;
            border: 2px solid var(--pikachu-dark-yellow);
            border-radius: 10px;
            transition: background-color 0.2s ease;
        }

        .options-container label:hover {
            background-color: var(--pikachu-light-yellow-bg);
        }

        .options-container input[type="radio"] {
            margin-right: 10px;
            transform: scale(1.5);
            vertical-align: middle;
            accent-color: var(--pikachu-red); /* 改變 radio 按鈕顏色 */
        }

        /* 回饋訊息樣式 */
        .feedback-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
            font-size: 1.1em;
        }

        .feedback-correct {
            background-color: #D4EDDA; /* 淺綠色 */
            color: #155724; /* 深綠色 */
            border: 1px solid #C3E6CB;
        }

        .feedback-incorrect {
            background-color: #F8D7DA; /* 淺紅色 */
            color: #721C24; /* 深紅色 */
            border: 1px solid #F5C6CB;
        }

        /* 挑戰題區塊樣式 */
        .challenge-item {
            background-color: var(--pikachu-white);
            border: 3px solid var(--pikachu-red);
            border-radius: var(--border-radius-md);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--box-shadow-light);
            text-align: left;
        }

        .challenge-item input[type="number"] {
            width: 80px;
            padding: 8px;
            font-size: 1.1em;
            border: 2px solid var(--pikachu-dark-yellow);
            border-radius: 8px;
            text-align: center;
            margin: 0 5px;
            -moz-appearance: textfield; /* 移除 Firefox 的數字箭頭 */
        }
        .challenge-item input[type="number"]::-webkit-outer-spin-button,
        .challenge-item input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none; /* 移除 Chrome/Safari 的數字箭頭 */
            margin: 0;
        }

        .challenge-item button {
            margin-left: 10px;
        }

        .challenge-result {
            margin-top: 15px;
            font-weight: bold;
            font-size: 1.1em;
        }

        .math-expression {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            margin: 15px 0;
            font-size: 1.5em;
            font-weight: bold;
        }

        /* 寶可夢解鎖容器 */
        .pokeball-unlock-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        /* 寶可夢球部分樣式 */
        .pokeball-part {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #DDDDDD; /* 鎖定狀態的灰色 */
            border: 3px solid var(--pikachu-black);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9em;
            font-weight: bold;
            color: var(--pikachu-black);
            position: relative;
            transition: background-color 0.3s ease, border-color 0.3s ease;
            text-indent: -9999px; /* 隱藏預設文字 */
            overflow: hidden; /* 確保內容不溢出 */
        }

        /* 解鎖後的寶可夢球樣式 */
        .pokeball-part.unlocked {
            background: linear-gradient(to bottom, var(--pikachu-red) 0%, var(--pikachu-red) 50%, var(--pikachu-white) 50%, var(--pikachu-white) 100%);
            border-color: var(--pikachu-black);
        }

        .pokeball-part.unlocked::before { /* 中間按鈕外圈 */
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: var(--pikachu-white);
            border: 3px solid var(--pikachu-black);
            z-index: 1;
        }
        .pokeball-part.unlocked::after { /* 中間按鈕內點 */
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--pikachu-black);
            z-index: 2;
        }

        .final-pikachu-img {
            max-width: 250px;
            margin-top: 30px;
            animation: bounce 2s infinite ease-in-out; /* 皮卡丘跳動動畫 */
        }

        /* 皮卡丘跳動動畫 */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* 響應式設計 */
        @media (max-width: 768px) {
            h1 { font-size: 2.5em; }
            h2 { font-size: 1.8em; }
            h3 { font-size: 1.4em; }
            section { padding: 20px; margin: 20px auto; }
            .pikachu-img { max-width: 100px; }
            .button-primary { padding: 10px 20px; font-size: 1em; }
            .fraction-text { font-size: 1em; }
            .pie-chart-example { width: 100px; height: 100px; }
            .options-container label { font-size: 1em; padding: 6px 10px; }
            .pokeball-part { width: 60px; height: 60px; }
            .lightning-bullet li { font-size: 1em; padding-left: 30px; }
            .lightning-bullet li::before { width: 20px; height: 20px; }
        }
    </style>
</head>
<body>

    <header>
        <!-- 皮卡丘引導圖片 -->
        <img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/025.png" alt="可愛的皮卡丘" class="pikachu-img">
        <h1>皮卡皮卡！分數大挑戰！</h1>
        <h2>我是皮卡丘！皮卡皮卡！</h2>
        <h3>小朋友們，我是你們的學習夥伴，皮卡丘！這次我們要一起探索「同分母分數」的加法和減法喔！準備好了嗎？皮卡丘相信你一定學得會！</h3>
        <p>跟著皮卡丘的腳步，我們將學會：</p>
        <ul class="lightning-bullet">
            <li>什麼是分數和「同分母」！</li>
            <li>輕鬆學習同分母分數的加法！</li>
            <li>簡單理解同分母分數的減法！</li>
            <li>透過互動練習，變成分數大師！</li>
        </ul>
        <button class="button-primary" onclick="scrollToSection('concept-explanation')">皮卡！開始學習！</button>
    </header>

    <section id="concept-explanation">
        <!-- 精靈球小圖示 -->
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Pokeball.svg/120px-Pokeball.svg.png" alt="精靈球" class="pokemon-icon" style="float: right;">
        <h2>皮卡皮卡！什麼是同分母分數？</h2>
        <p>想像一下，皮卡丘和朋友一起分享一個美味的披薩！</p>
        <div class="pie-container">
            <div class="pie-chart-example" style="background: conic-gradient(#FFD700 0% 100%);">
                <span class="label">一個披薩</span>
            </div>
            <p style="font-size: 1.2em; font-weight: bold;">如果把披薩切成「一樣多」的片數，這些片數就是「分母」喔！</p>
        </div>

        <h3><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Lightning_bolt_icon.svg/32px-Lightning_bolt_icon.svg.png" class="pokemon-icon"> 分數小教室：</h3>
        <p style="font-size: 1.1em;">
            分數就像把一個完整的東西（例如：一個披薩）平均分成很多份。<br>
            上面是「分子」，代表你「有幾份」。<            下面是「分母」，代表總共「分成了幾份」。<br>
            所以 <span class="fraction-text"><span class="numerator">1</span><span class="denominator">4</span></span> 就是把一個東西分成 4 份，你拿了其中 1 份。
        </p>
        <div class="pie-container">
            <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 25%, var(--pikachu-light-yellow-bg) 25% 100%);">
                <span class="label">1/4</span>
            </div>
            <p>這是一個分成 4 等份的圓，其中 1 份被塗上了顏色，就是 <span class="fraction-text"><span class="numerator">1</span><span class="denominator">4</span></span>。</p>
        </div>

        <h3><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Lightning_bolt_icon.svg/32px-Lightning_bolt_icon.svg.png" class="pokemon-icon"> 同分母是什麼意思呢？</h3>
        <p style="font-size: 1.1em;">
            當兩個或更多的分數，它們下面的「分母」數字都一樣時，我們就說它們是「同分母分數」！<br>
            想像皮卡丘的披薩切成 8 片，小火龍的披薩也切成 8 片。它們都是以「8 片」為分母，所以就是同分母囉！
        </p>
        <div class="pie-container">
            <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 12.5%, var(--pikachu-light-yellow-bg) 12.5% 100%);">
                <span class="label">1/8</span>
            </div>
            <span>和</span>
            <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 25%, var(--pikachu-light-yellow-bg) 25% 100%);">
                <span class="label">2/8</span>
            </div>
            <p>這兩個分數的分母都是 8，所以它們是同分母分數！皮卡！</p>
        </div>

        <h3><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Lightning_bolt_icon.svg/32px-Lightning_bolt_icon.svg.png" class="pokemon-icon"> 同分母分數的加減法小秘密！</h3>
        <p style="font-size: 1.2em;">
            皮卡皮卡！學會這個小秘密，分數就變簡單了！<br>
            當分母一樣時，我們只要把上面「分子」的數字加起來或減起來，分母保持不變喔！
        </p>
        <p style="font-size: 1.5em; font-weight: bold; color: var(--pikachu-red);">
            ✨ 分母不變，分子相加減！ ✨
        </p>
        <button class="button-primary" onclick="scrollToSection('examples')">皮卡！看範例！</button>
    </section>

    <section id="examples">
        <!-- 小火龍引導圖片 -->
        <img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/004.png" alt="小火龍" class="pokemon-icon" style="float: left;">
        <h2>皮卡皮卡！分數加減法範例時間！</h2>
        <p>小火龍也來幫忙囉！我們一起看看怎麼算！</p>

        <h3><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Lightning_bolt_icon.svg/32px-Lightning_bolt_icon.svg.png" class="pokemon-icon"> 加法範例</h3>

        <div class="example-block">
            <h4>範例 1: <span class="fraction-text"><span class="numerator">1</span><span class="denominator">4</span></span> + <span class="fraction-text"><span class="numerator">2</span><span class="denominator">4</span></span></h4>
            <div class="pie-container">
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 25%, var(--pikachu-light-yellow-bg) 25% 100%);"><span class="label">1/4</span></div>
                <span>+</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 50%, var(--pikachu-light-yellow-bg) 50% 100%);"><span class="label">2/4</span></div>
                <span>=</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 75%, var(--pikachu-light-yellow-bg) 75% 100%);"><span class="label">3/4</span></div>
            </div>
            <div class="step-by-step">
                <h4>步驟：</h4>
                <p>1. 看看分母：都是 4，分母一樣！</p>
                <p>2. 分母不變：結果的分母還是 4。</p>
                <p>3. 分子相加：1 + 2 = 3。</p>
                <p>4. 答案就是：<span class="fraction-text"><span class="numerator">3</span><span class="denominator">4</span></span>。皮卡！</p>
            </div>
        </div>

        <div class="example-block">
            <h4>範例 2: <span class="fraction-text"><span class="numerator">3</span><span class="denominator">5</span></span> + <span class="fraction-text"><span class="numerator">1</span><span class="denominator">5</span></span></h4>
            <div class="pie-container">
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 60%, var(--pikachu-light-yellow-bg) 60% 100%);"><span class="label">3/5</span></div>
                <span>+</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 20%, var(--pikachu-light-yellow-bg) 20% 100%);"><span class="label">1/5</span></div>
                <span>=</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 80%, var(--pikachu-light-yellow-bg) 80% 100%);"><span class="label">4/5</span></div>
            </div>
            <div class="step-by-step">
                <h4>步驟：</h4>
                <p>1. 都是 5 份，分母一樣。</p>
                <p>2. 分母還是 5。</p>
                <p>3. 分子相加：3 + 1 = 4。</p>
                <p>4. 答案是：<span class="fraction-text"><span class="numerator">4</span><span class="denominator">5</span></span>。超簡單！</p>
            </div>
        </div>

        <div class="example-block">
            <h4>範例 3: <span class="fraction-text"><span class="numerator">2</span><span class="denominator">6</span></span> + <span class="fraction-text"><span class="numerator">3</span><span class="denominator">6</span></span></h4>
            <div class="pie-container">
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 33.33%, var(--pikachu-light-yellow-bg) 33.33% 100%);"><span class="label">2/6</span></div>
                <span>+</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 50%, var(--pikachu-light-yellow-bg) 50% 100%);"><span class="label">3/6</span></div>
                <span>=</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 83.33%, var(--pikachu-light-yellow-bg) 83.33% 100%);"><span class="label">5/6</span></div>
            </div>
            <div class="step-by-step">
                <h4>步驟：</h4>
                <p>1. 分母都是 6。</p>
                <p>2. 分母不變，是 6。</p>
                <p>3. 分子相加：2 + 3 = 5。</p>
                <p>4. 答案是：<span class="fraction-text"><span class="numerator">5</span><span class="denominator">6</span></span>。皮卡丘為你點讚！</p>
            </div>
        </div>

        <h3><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Lightning_bolt_icon.svg/32px-Lightning_bolt_icon.svg.png" class="pokemon-icon"> 減法範例</h3>

        <div class="example-block">
            <h4>範例 1: <span class="fraction-text"><span class="numerator">4</span><span class="denominator">5</span></span> - <span class="fraction-text"><span class="numerator">1</span><span class="denominator">5</span></span></h4>
            <div class="pie-container">
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 80%, var(--pikachu-light-yellow-bg) 80% 100%);"><span class="label">4/5</span></div>
                <span>-</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 20%, var(--pikachu-light-yellow-bg) 20% 100%);"><span class="label">1/5</span></div>
                <span>=</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 60%, var(--pikachu-light-yellow-bg) 60% 100%);"><span class="label">3/5</span></div>
            </div>
            <div class="step-by-step">
                <h4>步驟：</h4>
                <p>1. 看看分母：都是 5，分母一樣！</p>
                <p>2. 分母不變：結果的分母還是 5。</p>
                <p>3. 分子相減：4 - 1 = 3。</p>
                <p>4. 答案就是：<span class="fraction-text"><span class="numerator">3</span><span class="denominator">5</span></span>。皮卡皮卡！</p>
            </div>
        </div>

        <div class="example-block">
            <h4>範例 2: <span class="fraction-text"><span class="numerator">5</span><span class="denominator">7</span></span> - <span class="fraction-text"><span class="numerator">2</span><span class="denominator">7</span></span></h4>
            <div class="pie-container">
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 71.42%, var(--pikachu-light-yellow-bg) 71.42% 100%);"><span class="label">5/7</span></div>
                <span>-</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 28.57%, var(--pikachu-light-yellow-bg) 28.57% 100%);"><span class="label">2/7</span></div>
                <span>=</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 42.85%, var(--pikachu-light-yellow-bg) 42.85% 100%);"><span class="label">3/7</span></div>
            </div>
            <div class="step-by-step">
                <h4>步驟：</h4>
                <p>1. 分母都是 7。</p>
                <p>2. 分母不變，是 7。</p>
                <p>3. 分子相減：5 - 2 = 3。</p>
                <p>4. 答案是：<span class="fraction-text"><span class="numerator">3</span><span class="denominator">7</span></span>。太棒了！</p>
            </div>
        </div>

        <div class="example-block">
            <h4>範例 3: <span class="fraction-text"><span class="numerator">3</span><span class="denominator">8</span></span> - <span class="fraction-text"><span class="numerator">1</span><span class="denominator">8</span></span></h4>
            <div class="pie-container">
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 37.5%, var(--pikachu-light-yellow-bg) 37.5% 100%);"><span class="label">3/8</span></div>
                <span>-</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 12.5%, var(--pikachu-light-yellow-bg) 12.5% 100%);"><span class="label">1/8</span></div>
                <span>=</span>
                <div class="pie-chart-example" style="background: conic-gradient(var(--pikachu-red) 0% 25%, var(--pikachu-light-yellow-bg) 25% 100%);"><span class="label">2/8</span></div>
            </div>
            <div class="step-by-step">
                <h4>步驟：</h4>
                <p>1. 分母都是 8。</p>
                <p>2. 分母不變，是 8。</p>
                <p>3. 分子相減：3 - 1 = 2。</p>
                <p>4. 答案是：<span class="fraction-text"><span class="numerator">2</span><span class="denominator">8</span></span>。皮卡丘給你愛的鼓勵！</p>
            </div>
        </div>
        <button class="button-primary" onclick="scrollToSection('practice-area')">皮卡！我要練習！</button>
    </section>

    <section id="practice-area">
        <!-- 妙蛙種子引導圖片 -->
        <img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/001.png" alt="妙蛙種子" class="pokemon-icon" style="float: right;">
        <h2>皮卡皮卡！互動練習區！</h2>
        <h3>妙蛙種子說：「開始你的訓練吧！」</h3>
        <p>請選擇正確的答案，看看你能答對幾題！</p>

        <div class="question-card" id="q1">
            <p>1. <span class="fraction-text"><span class="numerator">1</span><span class="denominator">3</span></span> + <span class="fraction-text"><span class="numerator">1</span><span class="denominator">3</span></span> = ?</p>
            <div class="options-container">
                <label><input type="radio" name="q1" value="a"> <span class="fraction-text"><span class="numerator">1</span><span class="denominator">6</span></span></label>
                <label><input type="radio" name="q1" value="b"> <span class="fraction-text"><span class="numerator">2</span><span class="denominator">3</span></span></label>
                <label><input type="radio" name="q1" value="c"> <span class="fraction-text"><span class="numerator">2</span><span class="denominator">6</span></span></label>
            </div>
            <button class="button-primary" onclick="checkAnswer('q1', 'b')">皮卡！提交！</button>
            <div class="feedback-message" id="q1-feedback"></div>
        </div>

        <div class="question-card" id="q2">
            <p>2. <span class="fraction-text"><span class="numerator">5</span><span class="denominator">6</span></span> - <span class="fraction-text"><span class="numerator">2</span><span class="denominator">6</span></span> = ?</p>
            <div class="options-container">
                <label><input type="radio" name="q2" value="a"> <span class="fraction-text"><span class="numerator">3</span><span class="denominator">6</span></span></label>
                <label><input type="radio" name="q2" value="b"> <span class="fraction-text"><span class="numerator">3</span><span class="denominator">0</span></span></label>
                <label><input type="radio" name="q2" value="c"> <span class="fraction-text"><span class="numerator">7</span><span class="denominator">6</span></span></label>
            </div>
            <button class="button-primary" onclick="checkAnswer('q2', 'a')">皮卡！提交！</button>
            <div class="feedback-message" id="q2-feedback"></div>
        </div>

        <div class="question-card" id="q3">
            <p>3. <span class="fraction-text"><span class="numerator">2</span><span class="denominator">8</span></span> + <span class="fraction-text"><span class="numerator">3</span><span class="denominator">8</span></span> = ?</p>
            <div class="options-container">
                <label><input type="radio" name="q3" value="a"> <span class="fraction-text"><span class="numerator">5</span><span class="denominator">8</span></span></label>
                <label><input type="radio" name="q3" value="b"> <span class="fraction-text"><span class="numerator">5</span><span class="denominator">16</span></span></label>
                <label><input type="radio" name="q3" value="c"> <span class="fraction-text"><span class="numerator">1</span><span class="denominator">8</span></span></label>
            </div>
            <button class="button-primary" onclick="checkAnswer('q3', 'a')">皮卡！提交！</button>
            <div class="feedback-message" id="q3-feedback"></div>
        </div>

        <div class="question-card" id="q4">
            <p>4. <span class="fraction-text"><span class="numerator">7</span><span class="denominator">10</span></span> - <span class="fraction-text"><span class="numerator">4</span><span class="denominator">10</span></span> = ?</p>
            <div class="options-container">
                <label><input type="radio" name="q4" value="a"> <span class="fraction-text"><span class="numerator">3</span><span class="denominator">0</span></span></label>
                <label><input type="radio" name="q4" value="b"> <span class="fraction-text"><span class="numerator">11</span><span class="denominator">10</span></span></label>
                <label><input type="radio" name="q4" value="c"> <span class="fraction-text"><span class="numerator">3</span><span class="denominator">10</span></span></label>
            </div>
            <button class="button-primary" onclick="checkAnswer('q4', 'c')">皮卡！提交！</button>
            <div class="feedback-message" id="q4-feedback"></div>
        </div>

        <div class="question-card" id="q5">
            <p>5. <span class="fraction-text"><span class="numerator">4</span><span class="denominator">7</span></span> + <span class="fraction-text"><span class="numerator">2</span><span class="denominator">7</span></span> = ?</p>
            <div class="options-container">
                <label><input type="radio" name="q5" value="a"> <span class="fraction-text"><span class="numerator">6</span><span class="denominator">14</span></span></label>
                <label><input type="radio" name="q5" value="b"> <span class="fraction-text"><span class="numerator">6</span><span class="denominator">7</span></span></label>
                <label><input type="radio" name="q5" value="c"> <span class="fraction-text"><span class="numerator">2</span><span class="denominator">7</span></span></label>
            </div>
            <button class="button-primary" onclick="checkAnswer('q5', 'b')">皮卡！提交！</button>
            <div class="feedback-message" id="q5-feedback"></div>
        </div>
        <button class="button-primary" onclick="scrollToSection('challenge-area')">皮卡！進入挑戰！</button>
    </section>

    <section id="challenge-area">
        <!-- 傑尼龜引導圖片 -->
        <img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/007.png" alt="傑尼龜" class="pokemon-icon" style="float: left;">
        <h2>皮卡皮卡！分數挑戰者聯盟！</h2>
        <h3>傑尼龜說：「來完成更厲害的挑戰吧！」</h3>
        <p>請在空格中填入正確的分子和分母喔！完成所有挑戰，就能解鎖皮卡丘的寶可夢圖鑑碎片！</p>

        <div class="challenge-item" id="c1">
            <p>1. 小智有 <span class="fraction-text"><span class="numerator">3</span><span class="denominator">8</span></span> 塊披薩，小霞有 <span class="fraction-text"><span class="numerator">2</span><span class="denominator">8</span></span> 塊披薩。他們總共有多少塊披薩？</p>
            <div class="math-expression">
                <input type="number" id="c1-numerator" placeholder="分子">
                <span style="font-size: 1.5em;">/</span>
                <input type="number" id="c1-denominator" placeholder="分母">
            </div>
            <button class="button-primary" onclick="checkChallenge('c1', 5, 8)">皮卡！提交！</button>
            <div class="challenge-result" id="c1-result"></div>
        </div>

        <div class="challenge-item" id="c2">
            <p>2. 小剛烤了一個蛋糕，分成 6 等份。他吃了 <span class="fraction-text"><span class="numerator">4</span><span class="denominator">6</span></span> 份，然後送給皮卡丘 <span class="fraction-text"><span class="numerator">1</span><span class="denominator">6</span></span> 份。蛋糕還剩下多少份？</p>
            <div class="math-expression">
                <input type="number" id="c2-numerator" placeholder="分子">
                <span style="font-size: 1.5em;">/</span>
                <input type="number" id="c2-denominator" placeholder="分母">
            </div>
            <button class="button-primary" onclick="checkChallenge('c2', 3, 6)">皮卡！提交！</button>
            <div class="challenge-result" id="c2-result"></div>
        </div>

        <div class="challenge-item" id="c3">
            <p>3. 小建買了一條彩帶，總長是 <span class="fraction-text"><span class="numerator">10</span><span class="denominator">12</span></span> 公尺。他用掉了 <span class="fraction-text"><span class="numerator">3</span><span class="denominator">12</span></span> 公尺來裝飾，又用掉 <span class="fraction-text"><span class="numerator">2</span><span class="denominator">12</span></span> 公尺來綁禮物。彩帶還剩下多少公尺？</p>
            <div class="math-expression">
                <input type="number" id="c3-numerator" placeholder="分子">
                <span style="font-size: 1.5em;">/</span>
                <input type="number" id="c3-denominator" placeholder="分母">
            </div>
            <button class="button-primary" onclick="checkChallenge('c3', 5, 12)">皮卡！提交！</button>
            <div class="challenge-result" id="c3-result"></div>
        </div>

        <div class="pokeball-unlock-container" id="pokeball-unlocks">
            <div class="pokeball-part" id="pb-part1" title="挑戰 1 尚未解鎖"></div>
            <div class="pokeball-part" id="pb-part2" title="挑戰 2 尚未解鎖"></div>
            <div class="pokeball-part" id="pb-part3" title="挑戰 3 尚未解鎖"></div>
        </div>
        <p id="challenge-complete-msg" style="font-size: 1.3em; color: var(--pikachu-red); font-weight: bold; margin-top: 20px; display: none;">恭喜你！解鎖了皮卡丘的寶可夢圖鑑！皮卡皮卡！</p>
        <img id="unlocked-pikachu" src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/025.png" alt="解鎖的皮卡丘" class="final-pikachu-img" style="display: none;">

        <button class="button-primary" onclick="scrollToSection('summary-encouragement')">皮卡！前往結尾！</button>
    </section>

    <section id="summary-encouragement">
        <!-- 最後跳動的皮卡丘 -->
        <img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/025.png" alt="跳動的皮卡丘" class="final-pikachu-img">
        <h2>皮卡皮卡！你真的超棒！</h2>
        <h3>今天的分數學習之旅，你表現得太出色了！</h3>
        <p style="font-size: 1.2em;">
            皮卡丘為你總結今天的學習重點：
        </p>
        <ul class="lightning-bullet">
            <li>我們認識了分數，還有什麼是「同分母」！</li>
            <li>最重要的分數魔法口訣是：「<b>分母不變，分子相加減！</b>」</li>
            <li>透過不斷的練習，你已經掌握了同分母分數的加減法！</li>
        </ul>
        <p style="font-size: 1.3em; color: var(--pikachu-red); font-weight: bold;">
            記住，學習就像寶可夢訓練一樣，只要努力，就能變得更強大！皮卡皮卡！<br>
            恭喜你成為分數訓練家！
        </p>
        <!-- 皮卡丘音效，可點擊播放 -->
        <audio id="pikachu-sound" src="https://assets.pokemon.com/assets/cms2/img/misc/sound_icons/pika.mp3" preload="auto"></audio>
        <button class="button-primary" onclick="document.getElementById('pikachu-sound').play()">皮卡！聽皮卡丘說話！</button>
        <p style="margin-top: 30px; font-size: 1.1em;">學習顧問：Kevin</p>
    </section>

    <script>
        // 平滑滾動到指定區塊
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({
                behavior: 'smooth'
            });
        }

        // 檢查練習題答案
        function checkAnswer(questionId, correctAnswer) {
            const radios = document.querySelectorAll(`#${questionId} input[name="${questionId}"]`);
            let selectedValue = null;
            radios.forEach(radio => {
                if (radio.checked) {
                    selectedValue = radio.value;
                }
            });

            const feedbackDiv = document.getElementById(`${questionId}-feedback`);
            if (selectedValue === correctAnswer) {
                feedbackDiv.className = 'feedback-message feedback-correct';
                feedbackDiv.innerHTML = '皮卡皮卡！太棒了！你答對了！';
            } else if (selectedValue) {
                feedbackDiv.className = 'feedback-message feedback-incorrect';
                feedbackDiv.innerHTML = '皮卡丘說：別氣餒！再試一次！';
            } else {
                feedbackDiv.className = 'feedback-message feedback-incorrect';
                feedbackDiv.innerHTML = '請選擇一個答案喔！';
            }
        }

        let correctChallenges = 0;
        const totalChallenges = 3;

        // 檢查挑戰題答案
        function checkChallenge(challengeId, correctNum, correctDen) {
            const numeratorInput = document.getElementById(`${challengeId}-numerator`);
            const denominatorInput = document.getElementById(`${challengeId}-denominator`);
            const resultDiv = document.getElementById(`${challengeId}-result`);
            const pokeballPart = document.getElementById(`${challengeId.replace('c', 'pb-part')}`);

            const enteredNumerator = parseInt(numeratorInput.value);
            const enteredDenominator = parseInt(denominatorInput.value);

            // 檢查是否已經答對，避免重複計分
            const isAlreadyCorrect = pokeballPart.classList.contains('unlocked');

            if (enteredNumerator === correctNum && enteredDenominator === correctDen) {
                if (!isAlreadyCorrect) {
                    resultDiv.className = 'challenge-result feedback-correct';
                    resultDiv.innerHTML = '皮卡！答對了！你解鎖了一個寶可夢碎片！';
                    correctChallenges++;
                    pokeballPart.classList.add('unlocked');
                    pokeballPart.setAttribute('title', `挑戰 ${challengeId.slice(1)} 已解鎖`);
                    checkAllChallengesComplete();
                } else {
                    resultDiv.innerHTML = '你已經答對這題囉！';
                }
            } else {
                resultDiv.className = 'challenge-result feedback-incorrect';
                resultDiv.innerHTML = '皮卡丘說：再想想看喔！分母不變，分子相加減！';
            }
        }

        // 檢查所有挑戰題是否完成
        function checkAllChallengesComplete() {
            if (correctChallenges === totalChallenges) {
                document.getElementById('challenge-complete-msg').style.display = 'block';
                document.getElementById('unlocked-pikachu').style.display = 'block';
                // 播放皮卡丘音效
                const pikachuSound = document.getElementById('pikachu-sound');
                if (pikachuSound) {
                     pikachuSound.play();
                }
            }
        }
    </script>

</body>
</html>
